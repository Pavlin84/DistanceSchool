@model DistanceSchool.Web.ViewModels.Schools.OneSchoolViewModel

@{
    ViewData["Title"] = "School";
}
<body style="background-color:aquamarine">
    <h1 class="font-italic font-weight-bolder text-center mb-2"><i class="fas fa-school"></i>  @Model.Name</h1>
    <h2 class="font-italic mb-4">Директор: @Model.Manager.Name</h2>
    @if (Model.IsUserManager)
    {
        <a href="/School/RemoveManager/@Model.Id" class="btn btn-danger mb-2 text-md-center">Премахни Директор</a>

    }
    <div class="row" style="">
        <div class="col-lg-3 rounded" style="background-color:whitesmoke">
            <h3 class="font-weight-bold text-md-center">Класове :</h3>
            <div class="row">
                @foreach (var team in Model.Teams)
                {

                    <div class="col-md-12 container-fluid rounded mb-2">
                        <a href="/Team/OneTeam/?Id=@team.Id" class="btn btn-light mb-2  container-fluid border-dark">
                            <h5 class="text-md-center">@team.TeamName</h5>
                            <p>
                                Дисциплини:
                                @foreach (var discipilne in team.TecherWhithDisciplines)
                                {
                                <p class="text-left">- @discipilne </p>
                            }
                            </a>
                        </div>
                    }
                <div class="col-md-12 container-fluid rounded mb-2">
                    <a href="/Team/AddTeam/@Model.Id" class="btn btn-outline-primary mb-2  container-fluid border-dark">
                        Нов Клас
                    </a>
                </div>
            </div>
        </div>

        <div class="col-lg-3 rounded container-fluid mb-2" style="background-color:whitesmoke">
            <h3 class="font-weight-bold text-md-center container-fluid">Дисциплини :</h3>
            <div class="row">
                @foreach (var discipline in Model.Disciplines)
                {
                    <div class="col-md-10 container-fluid rounded mb-2" style="background-color:aquamarine">
                        <h5>@discipline.Name</h5>
                        <p>
                            Учители:
                            @foreach (var techer in discipline.Techers)
                            {
                                <i>@techer, </i>
                            }
                        </p>
                        @if (Model.IsUserManager)
                        {
                            <a href="/Discipline/RemoveToSchool/?disciplineId=@discipline.Id&schoolId=@Model.Id" class="btn btn-light mb-2 text-md-center container-fluid">Премахни</a>
                        }
                    </div>
                }
                @if (Model.IsUserManager)
                {
                    @foreach (var discipline in Model.NotStudiedDisciplines)
                    {
                        <div class="col-md-10 container-fluid rounded mb-2" style="background-color:silver">
                            <h5 class="text-md-center">@discipline.Name</h5>

                            <a href="/Discipline/AddToSchool/?disciplineId=@discipline.Id&schoolId=@Model.Id" class="btn btn-light mb-2 text-md-center container-fluid">Добави</a>
                        </div>
                    }
                }
            </div>
        </div>
        <div class="col-lg-3 rounded" style="background-color:whitesmoke">
            <h3 class="font-weight-bold text-md-center">Учители :</h3>
            <div class="row">
                @foreach (var teacher in Model.Teacher)
                {
                    <div class="col-md-10 container-fluid rounded mb-2" style="background-color:silver">
                        <h5>@teacher.Name</h5>
                        <p>
                            Дисциплини:
                            @foreach (var discipilne in teacher.Disciplines)
                            {
                                <i>@discipilne, </i>
                            }
                        </p>
                        <a href="/Teacher/OneTeacher/@teacher.Id" class="btn btn-light mb-2 text-md-center container-fluid">Подробности</a>
                    </div>
                }
            </div>
            <div class="col-md-12 container-fluid rounded mb-2">
                <a class="container-fluid btn btn-outline-primary" style="background-color:silver" href="/School/AddTeacher">
                Преподавай
                </a>
            </div>
        </div>

    </div>
</body>

@section PrivateSideBar{
    <li class="nav-item">
        <a href="/Team/AddTeam/@Model.Id" class="nav-link text-dark">Нов Клас</a>
    </li>
}
